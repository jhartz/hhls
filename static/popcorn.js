/*
 * popcorn.js version 1.2
 * http://popcornjs.org
 *
 * Copyright 2011, Mozilla Foundation
 * Licensed under the MIT license
 */

// Included plugins: core, code.js

(function(a,b){function t(a,b){return function(){if(s.plugin.debug)return a.apply(this,arguments);try{return a.apply(this,arguments)}catch(c){s.plugin.errors.push({plugin:b,thrown:c,source:a.toString()}),this.emit("error",s.plugin.errors)}}}if(!b.addEventListener){a.Popcorn={isSupported:!1};var c="removeInstance addInstance getInstanceById removeInstanceById forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);while(c.length)a.Popcorn[c.shift()]=function(){};return}var d=Array.prototype,e=Object.prototype,f=d.forEach,g=d.slice,h=e.hasOwnProperty,i=e.toString,j=a.Popcorn,k=/^(#([\w\-\_\.]+))$/,l=[],m=!1,n=!1,o={events:{hash:{},apis:{}}},p=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b,c){a.setTimeout(b,16)}}(),q=function(a){return Object.keys?Object.keys(a):function(a){var b,c=[];for(b in a)h.call(a,b)&&c.push(b);return c}(a)},r=function(a){var b=a.media.currentTime,c=a.options.frameAnimation,d=a.data.disabled,e=a.data.trackEvents,f=e.animating,g=e.startIndex,h=s.registryByName,i=0,j,k,l;g=Math.min(g+1,e.byStart.length-2);while(g>0&&e.byStart[g]){j=e.byStart[g],k=j._natives,l=k&&k.type;if(!k||!!h[l]||!!a[l])j.start<=b&&j.end>b&&d.indexOf(l)===-1?j._running||(j._running=!0,k.start.call(a,null,j),c&&j&&j._running&&j.natives.frame&&k.frame.call(a,null,j,b)):j._running===!0&&(j._running=!1,k.end.call(a,null,j),c&&j._natives.frame&&(i=f.indexOf(j),i>=0&&f.splice(i,1)));g--}},s=function(a,b){return new s.p.init(a,b||null)};s.version="1.2",s.isSupported=!0,s.instances=[],s.p=s.prototype={init:function(a,c){var d,e=this;if(typeof a=="function"){if(b.readyState==="complete"){a(b,s);return}l.push(a);if(!m){m=!0;var f=function(){n=!0,b.removeEventListener("DOMContentLoaded",f,!1);for(var a=0,c=l.length;a<c;a++)l[a].call(b,s);l=null};b.addEventListener("DOMContentLoaded",f,!1)}return}d=k.exec(a),this.media=d&&d.length&&d[2]?b.getElementById(d[2]):a,this[this.media.nodeName&&this.media.nodeName.toLowerCase()||"video"]=this.media,s.instances.push(this),this.options=c||{},this.isDestroyed=!1,this.data={timeUpdate:s.nop,disabled:[],events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:{byStart:[{start:-1,end:-1}],byEnd:[{start:-1,end:-1}],animating:[],startIndex:0,endIndex:0,previousUpdateTime:-1}};var g=function(){e.media.removeEventListener("loadeddata",g,!1);var a,b;a=e.media.duration,b=a!=a?Number.MAX_VALUE:a+1,s.addTrackEvent(e,{start:b,end:b}),e.options.frameAnimation?(e.data.timeUpdate=function(){s.timeUpdate(e,{}),e.emit("timeupdate"),!e.isDestroyed&&p(e.data.timeUpdate)},!e.isDestroyed&&p(e.data.timeUpdate)):(e.data.timeUpdate=function(a){s.timeUpdate(e,a)},e.isDestroyed||e.media.addEventListener("timeupdate",e.data.timeUpdate,!1))};return e.media.readyState>=2?g():e.media.addEventListener("loadeddata",g,!1),this}},s.p.init.prototype=s.p,s.forEach=function(a,b,c){if(!a||!b)return{};c=c||this;var d,e;if(f&&a.forEach===f)return a.forEach(b,c);if(i.call(a)==="[object NodeList]"){for(d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a);return a}for(d in a)h.call(a,d)&&b.call(c,a[d],d,a);return a},s.extend=function(a){var b=a,c=g.call(arguments,1);return s.forEach(c,function(a){for(var c in a)b[c]=a[c]}),b},s.extend(s,{noConflict:function(b){return b&&(a.Popcorn=j),s},error:function(a){throw new Error(a)},guid:function(a){return s.guid.counter++,(a?a:"")+(+(new Date)+s.guid.counter)},sizeOf:function(a){var b=0;for(var c in a)b++;return b},isArray:Array.isArray||function(a){return i.call(a)==="[object Array]"},nop:function(){},position:function(c){var d=c.getBoundingClientRect(),e={},f=c.ownerDocument,g=b.documentElement,h=b.body,i,j,k,l,m,n;i=g.clientTop||h.clientTop||0,j=g.clientLeft||h.clientLeft||0,k=a.pageYOffset&&g.scrollTop||h.scrollTop,l=a.pageXOffset&&g.scrollLeft||h.scrollLeft,m=Math.ceil(d.top+k-i),n=Math.ceil(d.left+l-j);for(var o in d)e[o]=Math.round(d[o]);return s.extend({},e,{top:m,left:n})},disable:function(a,b){var c=a.data.disabled;return c.indexOf(b)===-1&&c.push(b),r(a),a},enable:function(a,b){var c=a.data.disabled,d=c.indexOf(b);return d>-1&&c.splice(d,1),r(a),a},destroy:function(a){var b=a.data.events,c,d,e;for(d in b){c=b[d];for(e in c)delete c[e];b[d]=null}a.isDestroyed||(a.data.timeUpdate&&a.media.removeEventListener("timeupdate",a.data.timeUpdate,!1),a.isDestroyed=!0)}}),s.guid.counter=1,s.extend(s.p,function(){var a="load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended",b={};return s.forEach(a.split(/\s+/g),function(a){b[a]=function(b){return typeof this.media[a]=="function"?(b!=null&&/play|pause/.test(a)&&(this.media.currentTime=s.util.toSeconds(b)),this.media[a](),this):b!=null?(this.media[a]=b,this):this.media[a]}}),b}()),s.forEach("enable disable".split(" "),function(a){s.p[a]=function(b){return s[a](this,b)}}),s.extend(s.p,{roundTime:function(){return-~this.media.currentTime},exec:function(a,b){return s.addTrackEvent(this,{start:a,end:a+1,_running:!1,_natives:{start:b||s.nop,end:s.nop,type:"cue"}}),this},mute:function(a){var b=a==null||a===!0?"muted":"unmuted";return b==="unmuted"&&(this.media.muted=!1,this.media.volume=this.data.state.volume),b==="muted"&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.emit(b),this},unmute:function(a){return this.mute(a==null?!1:!a)},position:function(){return s.position(this.media)},toggle:function(a){return s[this.data.disabled.indexOf(a)>-1?"enable":"disable"](this,a)},defaults:function(a,b){return s.isArray(a)?(s.forEach(a,function(a){for(var b in a)this.defaults(b,a[b])},this),this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[a]||(this.options.defaults[a]={}),s.extend(this.options.defaults[a],b),this)}}),s.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},s.Events.Natives=s.Events.UIEvents+" "+s.Events.MouseEvents+" "+s.Events.Events,o.events.apiTypes=["UIEvents","MouseEvents","Events"],function(a,b){var c=o.events.apiTypes,d=a.Natives.split(/\s+/g),e=0,f=d.length,g;for(;e<f;e++)b.hash[d[e]]=!0;c.forEach(function(c,d){b.apis[c]={};var e=a[c].split(/\s+/g),f=e.length,g=0;for(;g<f;g++)b.apis[c][e[g]]=!0})}(s.Events,o.events),s.events={isNative:function(a){return!!o.events.hash[a]},getInterface:function(a){if(!s.events.isNative(a))return!1;var b=o.events,c=b.apiTypes,d=b.apis,e=0,f=c.length,g,h;for(;e<f;e++){h=c[e];if(d[h][a]){g=h;break}}return g},all:s.Events.Natives.split(/\s+/g),fn:{trigger:function(c,d){var e,f;if(this.data.events[c]&&s.sizeOf(this.data.events[c])){e=s.events.getInterface(c);if(e)return f=b.createEvent(e),f.initEvent(c,!0,!0,a,1),this.media.dispatchEvent(f),this;s.forEach(this.data.events[c],function(a,b){a.call(this,d)},this)}return this},listen:function(a,b){var c=this,d=!0,e=s.events.hooks[a],f=a,g;return this.data.events[a]||(this.data.events[a]={},d=!1),e&&(e.add&&e.add.call(this,{},b),e.bind&&(a=e.bind),e.handler&&(g=b,b=function(a){e.handler.call(c,a,g)}),d=!0,this.data.events[a]||(this.data.events[a]={},d=!1)),this.data.events[a][b.name||b.toString()+s.guid()]=b,!d&&s.events.all.indexOf(a)>-1&&this.media.addEventListener(a,function(b){s.forEach(c.data.events[a],function(a,d){typeof a=="function"&&a.call(c,b)})},!1),this},unlisten:function(a,b){return this.data.events[a]&&this.data.events[a][b]?(delete this.data.events[a][b],this):(this.data.events[a]=null,this)}},hooks:{canplayall:{bind:"canplaythrough",add:function(a,b){var c=!1;this.media.readyState&&(b.call(this,a),c=!0),this.data.hooks.canplayall={fired:c}},handler:function(a,b){this.data.hooks.canplayall.fired||(b.call(this,a),this.data.hooks.canplayall.fired=!0)}}}},s.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(a){s.p[a[0]]=s.p[a[1]]=s.events.fn[a[0]]}),s.addTrackEvent=function(a,b){b&&b._natives&&b._natives.type&&a.options.defaults&&a.options.defaults[b._natives.type]&&(b=s.extend({},a.options.defaults[b._natives.type],b)),b._natives&&(b._id=b.id?b.id:s.guid(b._natives.type),a.data.history.push(b._id)),b.start=s.util.toSeconds(b.start,a.options.framerate),b.end=s.util.toSeconds(b.end,a.options.framerate);var c=a.data.trackEvents.byStart,d=a.data.trackEvents.byEnd,e,f,g;for(e=c.length-1;e>=0;e--)if(b.start>=c[e].start){c.splice(e+1,0,b);break}for(f=d.length-1;f>=0;f--)if(b.end>d[f].end){d.splice(f+1,0,b);break}b._natives&&(!!s.registryByName[b._natives.type]||!!a[b._natives.type])&&(g=a.media.currentTime,b.end>g&&b.start<=g&&a.data.disabled.indexOf(b._natives.type)===-1&&(b._running=!0,b._natives.start.call(a,null,b),a.options.frameAnimation&&b._natives.frame&&(a.data.trackEvents.animating.push(b),b._natives.frame.call(a,null,b,g)))),e<=a.data.trackEvents.startIndex&&b.start<=a.data.trackEvents.previousUpdateTime&&a.data.trackEvents.startIndex++,f<=a.data.trackEvents.endIndex&&b.end<a.data.trackEvents.previousUpdateTime&&a.data.trackEvents.endIndex++,this.timeUpdate(a,null,!0),b._id&&s.addTrackEvent.ref(a,b)},s.addTrackEvent.ref=function(a,b){return a.data.trackRefs[b._id]=b,a},s.removeTrackEvent=function(a,b){var c,d,e,f=a.data.history.length,g=a.data.trackEvents.byStart.length,h=0,i=0,j=[],k=[],l=[],m=[];while(--g>-1)c=a.data.trackEvents.byStart[h],d=a.data.trackEvents.byEnd[h],c._id||(j.push(c),k.push(d)),c._id&&(c._id!==b&&j.push(c),d._id!==b&&k.push(d),c._id===b&&(i=h,c._natives._teardown&&c._natives._teardown.call(a,c))),h++;g=a.data.trackEvents.animating.length,h=0;if(g)while(--g>-1)e=a.data.trackEvents.animating[h],e._id||l.push(e),e._id&&e._id!==b&&l.push(e),h++;i<=a.data.trackEvents.startIndex&&a.data.trackEvents.startIndex--,i<=a.data.trackEvents.endIndex&&a.data.trackEvents.endIndex--,a.data.trackEvents.byStart=j,a.data.trackEvents.byEnd=k,a.data.trackEvents.animating=l;for(var n=0;n<f;n++)a.data.history[n]!==b&&m.push(a.data.history[n]);a.data.history=m,s.removeTrackEvent.ref(a,b)},s.removeTrackEvent.ref=function(a,b){return delete a.data.trackRefs[b],a},s.getTrackEvents=function(a){var b=[],c=a.data.trackEvents.byStart,d=c.length,e=0,f;for(;e<d;e++)f=c[e],f._id&&b.push(f);return b},s.getTrackEvents.ref=function(a){return a.data.trackRefs},s.getTrackEvent=function(a,b){return a.data.trackRefs[b]},s.getTrackEvent.ref=function(a,b){return a.data.trackRefs[b]},s.getLastTrackEventId=function(a){return a.data.history[a.data.history.length-1]},s.timeUpdate=function(a,b){var c=a.media.currentTime,d=a.data.trackEvents.previousUpdateTime,e=a.data.trackEvents,f=e.animating,g=e.endIndex,h=e.startIndex,i=0,j=e.byStart.length,k=e.byEnd.length,l=s.registryByName,m="trackstart",n="trackend",o,p,q,r,t;if(d<=c){while(e.byEnd[g]&&e.byEnd[g].end<=c){o=e.byEnd[g],r=o._natives,t=r&&r.type;if(!!r&&!l[t]&&!a[t]){s.removeTrackEvent(a,o._id);return}o._running===!0&&(o._running=!1,r.end.call(a,b,o),a.emit(n,s.extend({},o,{plugin:t,type:n}))),g++}while(e.byStart[h]&&e.byStart[h].start<=c){p=e.byStart[h],r=p._natives,t=r&&r.type;if(!!r&&!l[t]&&!a[t]){s.removeTrackEvent(a,p._id);return}p.end>c&&p._running===!1&&a.data.disabled.indexOf(t)===-1&&(p._running=!0,r.start.call(a,b,p),a.emit(m,s.extend({},p,{plugin:t,type:m})),a.options.frameAnimation&&p&&p._running&&p._natives.frame&&f.push(p)),h++}if(a.options.frameAnimation)while(i<f.length)q=f[i],q._running?(q._natives.frame.call(a,b,q,c),i++):f.splice(i,1)}else if(d>c){while(e.byStart[h]&&e.byStart[h].start>c){p=e.byStart[h],r=p._natives,t=r&&r.type;if(!!r&&!l[t]&&!a[t]){s.removeTrackEvent(a,p._id);return}p._running===!0&&(p._running=!1,r.end.call(a,b,p),a.emit(n,s.extend({},o,{plugin:t,type:n}))),h--}while(e.byEnd[g]&&e.byEnd[g].end>c){o=e.byEnd[g],r=o._natives,t=r&&r.type;if(!!r&&!l[t]&&!a[t]){s.removeTrackEvent(a,o._id);return}o.start<=c&&o._running===!1&&a.data.disabled.indexOf(t)===-1&&(o._running=!0,r.start.call(a,b,o),a.emit(m,s.extend({},p,{plugin:t,type:m})),a.options.frameAnimation&&o&&o._running&&o._natives.frame&&f.push(o)),g--}if(a.options.frameAnimation)while(i<f.length)q=f[i],q._running?(q._natives.frame.call(a,b,q,c),i++):f.splice(i,1)}e.endIndex=g,e.startIndex=h,e.previousUpdateTime=c,e.byStart.length<j&&e.startIndex--,e.byEnd.length<k&&e.endIndex--},s.extend(s.p,{getTrackEvents:function(){return s.getTrackEvents.call(null,this)},getTrackEvent:function(a){return s.getTrackEvent.call(null,this,a)},getLastTrackEventId:function(){return s.getLastTrackEventId.call(null,this)},removeTrackEvent:function(a){return s.removeTrackEvent.call(null,this,a),this},removePlugin:function(a){return s.removePlugin.call(null,this,a),this},timeUpdate:function(a){return s.timeUpdate.call(null,this,a),this},destroy:function(){return s.destroy.call(null,this),this}}),s.manifest={},s.registry=[],s.registryByName={},s.plugin=function(a,b,c){if(s.protect.natives.indexOf(a.toLowerCase())>=0){s.error("'"+a+"' is a protected function name");return}var d=["start","end"],e={},f,i=typeof b=="function",j=["_setup","_teardown","start","end","frame"],k=function(a,b){return a=a||s.nop,b=b||s.nop,function(){a.apply(this,arguments),b.apply(this,arguments)}};s.manifest[a]=c=c||b.manifest||{},j.forEach(function(c){b[c]=t(b[c]||s.nop,a)});var l=function(b,e){if(!e)return this;var f=e._natives={},i="",l,m;return s.extend(f,b),e._natives.type=a,e._running=!1,f.start=f.start||f["in"],f.end=f.end||f.out,f._teardown=k(function(){var a=g.call(arguments);a.unshift(null),a[1]._running&&f.end.apply(this,a)},f._teardown),e.compose=e.compose&&e.compose.split(" ")||[],e.effect=e.effect&&e.effect.split(" ")||[],e.compose=e.compose.concat(e.effect),e.compose.forEach(function(a){i=s.compositions[a]||{},j.forEach(function(a){f[a]=k(f[a],i[a])})}),e._natives.manifest=c,"start"in e||(e.start=e["in"]||0),!e.end&&e.end!==0&&(e.end=e.out||Number.MAX_VALUE),h.call(e,"toString")||(e.toString=function(){var b=["start: "+e.start,"end: "+e.end,"id: "+(e.id||e._id)];return e.target!=null&&b.push("target: "+e.target),a+" ( "+b.join(", ")+" )"}),e.target||(m="options"in c&&c.options,e.target=m&&"target"in m&&m.target),e._natives._setup&&e._natives._setup.call(this,e),s.addTrackEvent(this,s.extend(e,e)),s.forEach(b,function(a,b){b!=="type"&&d.indexOf(b)===-1&&this.on(b,a)},this),this};s.p[a]=e[a]=function(c){var d=this.options.defaults&&this.options.defaults[a]||{},e=s.extend({},d,c);return l.call(this,i?b.call(this,e):b,e)};var m={fn:e[a],definition:b,base:b,parents:[],name:a};return s.registry.push(s.extend(e,m,{type:a})),s.registryByName[a]=m,e},s.plugin.errors=[],s.plugin.debug=!1,s.removePlugin=function(a,b){if(!b){b=a,a=s.p;if(s.protect.natives.indexOf(b.toLowerCase())>=0){s.error("'"+b+"' is a protected function name");return}var c=s.registry.length,d;for(d=0;d<c;d++)if(s.registry[d].name===b){s.registry.splice(d,1),delete s.registryByName[b],delete s.manifest[b],delete a[b];return}}var e=a.data.trackEvents.byStart,f=a.data.trackEvents.byEnd,g=a.data.trackEvents.animating,h,i;for(h=0,i=e.length;h<i;h++)e[h]&&e[h]._natives&&e[h]._natives.type===b&&(e[h]._natives._teardown&&e[h]._natives._teardown.call(a,e[h]),e.splice(h,1),h--,i--,a.data.trackEvents.startIndex<=h&&(a.data.trackEvents.startIndex--,a.data.trackEvents.endIndex--)),f[h]&&f[h]._natives&&f[h]._natives.type===b&&f.splice(h,1);for(h=0,i=g.length;h<i;h++)g[h]&&g[h]._natives&&g[h]._natives.type===b&&(g.splice(h,1),h--,i--)},s.compositions={},s.compose=function(a,b,c){s.manifest[a]=c=c||b.manifest||{},s.compositions[a]=b},s.plugin.effect=s.effect=s.compose;var u=/\?/,v={url:"",data:"",dataType:"",success:s.nop,type:"GET",async:!0,xhr:function(){return new a.XMLHttpRequest}};s.xhr=function(a){a.dataType=a.dataType&&a.dataType.toLowerCase()||null;if(!(!a.dataType||a.dataType!=="jsonp"&&a.dataType!=="script")){s.xhr.getJSONP(a.url,a.success,a.dataType==="script");return}var b=s.extend({},v,a);b.ajax=b.xhr();if(b.ajax)return b.type==="GET"&&b.data&&(b.url+=(u.test(b.url)?"&":"?")+b.data,b.data=null),b.ajax.open(b.type,b.url,b.async),b.ajax.send(b.data||null),s.xhr.httpData(b)},s.xhr.httpData=function(a){var b,c=null,d,e=null;return a.ajax.onreadystatechange=function(){if(a.ajax.readyState===4){try{c=JSON.parse(a.ajax.responseText)}catch(f){}b={xml:a.ajax.responseXML,text:a.ajax.responseText,json:c};if(!b.xml||!b.xml.documentElement){b.xml=null;try{d=new DOMParser,e=d.parseFromString(a.ajax.responseText,"text/xml"),e.getElementsByTagName("parsererror").length||(b.xml=e)}catch(f){}}a.dataType&&(b=b[a.dataType]),a.success.call(a.ajax,b)}},b},s.xhr.getJSONP=function(a,c,d){var e=b.head||b.getElementsByTagName("head")[0]||b.documentElement,f=b.createElement("script"),g=a.split("?")[1],h=!1,i=[],j,k,l;g&&!d&&(i=g.split("&")),i.length&&(k=i[i.length-1].split("=")),j=i.length?k[1]?k[1]:k[0]:"jsonp",!g&&!d&&(a+="?callback="+j),j&&!d&&(!window[j]||(j=s.guid(j)),window[j]=function(a){c&&c(a),h=!0},a=a.replace(k.join("="),k[0]+"="+j)),f.addEventListener("load",function(){d&&c&&c(),h&&delete window[j],e.removeChild(f)},!1),f.src=a,e.insertBefore(f,e.firstChild);return},s.getJSONP=s.xhr.getJSONP,s.getScript=s.xhr.getScript=function(a,b){return s.xhr.getJSONP(a,b,!0)},s.util={toSeconds:function(a,b){var c=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,d="Invalid time format",e,f,g,h,i,j;return typeof a=="number"?a:(typeof a=="string"&&!c.test(a)&&s.error(d),e=a.split(":"),f=e.length-1,g=e[f],g.indexOf(";")>-1&&(i=g.split(";"),j=0,b&&typeof b=="number"&&(j=parseFloat(i[1],10)/b),e[f]=parseInt(i[0],10)+j),h=e[0],{1:parseFloat(h,10),2:parseInt(h,10)*60+parseFloat(e[1],10),3:parseInt(h,10)*3600+parseInt(e[1],10)*60+parseFloat(e[2],10)}[e.length||1])}},s.p.cue=s.p.exec,s.protect={natives:q(s.p).map(function(a){return a.toLowerCase()})},s.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(a,b){var c=s.p[b];s.p[b]=function(){return typeof console!="undefined"&&console.warn&&(console.warn("Deprecated method '"+b+"', "+(a==null?"do not use.":"use '"+a+"' instead.")),s.p[b]=c),s.p[a].apply(this,[].slice.call(arguments))}}),a.Popcorn=s})(window,window.document),function(a){a.plugin("code",function(b){var c=!1,d=function(){var a=function(a){return function(b,d){var e=function(){c&&b(),c&&a(e)};e()}};return window.webkitRequestAnimationFrame?a(window.webkitRequestAnimationFrame):window.mozRequestAnimationFrame?a(window.mozRequestAnimationFrame):a(function(a){window.setTimeout(a,16)})}();if(!b.onStart||typeof b.onStart!="function"){if(a.plugin.debug)throw new Error("Popcorn Code Plugin Error: onStart must be a function.");b.onStart=a.nop}if(b.onEnd&&typeof b.onEnd!="function"){if(a.plugin.debug)throw new Error("Popcorn Code Plugin Error: onEnd  must be a function.");b.onEnd=undefined}if(b.onFrame&&typeof b.onFrame!="function"){if(a.plugin.debug)throw new Error("Popcorn Code Plugin Error: onFrame  must be a function.");b.onFrame=undefined}return{start:function(a,b){b.onStart(b),b.onFrame&&(c=!0,d(b.onFrame,b))},end:function(a,b){b.onFrame&&(c=!1),b.onEnd&&b.onEnd(b)}}},{about:{name:"Popcorn Code Plugin",version:"0.1",author:"David Humphrey (@humphd)",website:"http://vocamus.net/dave"},options:{start:{elem:"input",type:"text",label:"In"},end:{elem:"input",type:"text",label:"Out"},onStart:{elem:"input",type:"function",label:"onStart"},onFrame:{elem:"input",type:"function",label:"onFrame",optional:!0},onEnd:{elem:"input",type:"function",label:"onEnd"}}})}(Popcorn)
